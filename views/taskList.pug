html
  head 
    title="Task Management System"
    meta(charset='utf-8')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet")
    link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css")
    link(type="text/css" href="style.css" rel="stylesheet")
  body
    if taskList
      <u><h3>Open:</h3></u>
      table(class="table table-bordered table-striped" style="border: 1px solid black;")
        thead 
          tr(style="background-color: #f8e5e7;") 
            th ID
            th Name
            th Description
            th Assigned Plan
            th Assigned App
            th State 
            th Creator 
            th Owner 
            th Create Date
            th Action
        for task in taskList
          if task.state === 'open'
            tbody
              tr
                td #{task.tid}
                td #{task.name}
                td #{task.description}
                if task.tplan 
                  td #{task.tplan}
                else 
                  td NIL
                td #{task.tappname}
                td #{task.state}
                td #{task.creator}
                td #{task.owner}
                td #{task.createDate}
                td 
                  a(href="/editTask/"+task.tid type="submit")="Edit"
    if taskList
      <u><h3>To-Do-List:</h3></u>
      table(class="table table-bordered table-striped" style="border: 1px solid black;")
        thead 
          tr(style="background-color: #f8e5e7;") 
            th ID
            th Name
            th Description
            th Assigned Plan
            th Assigned App
            th State 
            th Creator 
            th Owner 
            th Create Date
            th Action  
          for task in taskList
            if task.state === 'todolist'
              tbody
                tr
                  td #{task.tid}
                  td #{task.name}
                  td #{task.description}
                  if task.tplan 
                    td #{task.tplan}
                  else 
                    td NIL
                  td #{task.tappname}
                  td #{task.state}
                  td #{task.creator}
                  td #{task.owner}
                  td #{task.createDate}
                  td 
                    a(href="/editTask/"+task.tid type="submit")="Edit"  
    if taskList 
      <u><h3>Doing:</h3></u>
      table(class="table table-bordered table-striped" style="border: 1px solid black;")
        thead 
          tr(style="background-color: #f8e5e7;") 
            th ID
            th Name
            th Description
            th Assigned Plan
            th Assigned App
            th State 
            th Creator 
            th Owner 
            th Create Date
            th Action  
          for task in taskList
            if task.state === 'doing'
              tbody
                tr
                  td #{task.tid}
                  td #{task.name}
                  td #{task.description}
                  if task.tplan 
                    td #{task.tplan}
                  else 
                    td NIL
                  td #{task.tappname}
                  td #{task.state}
                  td #{task.creator}
                  td #{task.owner}
                  td #{task.createDate}
                  td 
                    a(href="/editTask/"+task.tid type="submit")="Edit"  
    if taskList 
      <u><h3>Done:</h3></u>
      table(class="table table-bordered table-striped" style="border: 1px solid black;")
        thead 
          tr(style="background-color: #f8e5e7;") 
            th ID
            th Name
            th Description
            th Assigned Plan
            th Assigned App
            th State 
            th Creator 
            th Owner 
            th Create Date
            th Action  
        for task in taskList
          if task.state === 'done'
            tbody
              tr
                td #{task.tid}
                td #{task.name}
                td #{task.description}
                if task.tplan 
                  td #{task.tplan}
                else 
                  td NIL
                td #{task.tappname}
                td #{task.state}
                td #{task.creator}
                td #{task.owner}
                td #{task.createDate}
                td 
                  a(href="/editTask/"+task.tid type="submit")="Edit"  
    if taskList
      <u><h3>Close:</h3></u>
      table(class="table table-bordered table-striped" style="border: 1px solid black;")
        thead 
          tr(style="background-color: #f8e5e7;") 
            th ID
            th Name
            th Description
            th Assigned Plan
            th Assigned App
            th State 
            th Creator 
            th Owner 
            th Create Date
            th Action  
        for task in taskList
          if task.state === 'close'
            tbody
              tr
                td #{task.tid}
                td #{task.name}
                td #{task.description}
                if task.tplan 
                  td #{task.tplan}
                else 
                  td NIL
                td #{task.tappname}
                td #{task.state}
                td #{task.creator}
                td #{task.owner}
                td #{task.createDate}
                td 
                  a(href="/editTask/"+task.tid type="submit")="Edit" 