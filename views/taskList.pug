html
  head 
    title="Task Management System"
    meta(charset='utf-8')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet")
    link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css")
    link(type="text/css" href="style.css" rel="stylesheet")
  body
    if taskList
      h3="Open"
      table(class="table table-bordered table-striped" style="border: 1px solid black;")
        thead 
          tr(style="background-color: #f8e5e7;") 
            th ID
            th Name
            th Description
            th Assigned Plan
            th Assigned App
            th State 
            th Creator 
            th Owner 
            th Create Date
            th Action
        for task in taskList
          if task.state === 'open'
            tbody
              tr
                td #{task.tid}
                td #{task.name}
                td #{task.description}
                if task.tplan 
                  td #{task.tplan}
                else 
                  td NIL
                td #{task.tappname}
                td #{task.state}
                td #{task.creator}
                td #{task.owner}
                td #{task.createDate}
                td 
                  a(href="/editTask/"+task.tid type="submit")="Edit"
    if taskList
      h3="To-Do-List"
      table(class="table table-bordered table-striped" style="border: 1px solid black;")
        thead 
          tr(style="background-color: #f8e5e7;") 
            th ID
            th Name
            th Description
            th Assigned Plan
            th Assigned App
            th State 
            th Creator 
            th Owner 
            th Create Date
            th Action  
          for task in taskList
            if task.state === 'todolist'
              tbody
                tr
                  td #{task.tid}
                  td #{task.name}
                  td #{task.description}
                  if task.tplan 
                    td #{task.tplan}
                  else 
                    td NIL
                  td #{task.tappname}
                  td #{task.state}
                  td #{task.creator}
                  td #{task.owner}
                  td #{task.createDate}
                  td 
                    a(href="/editTask/"+task.tid type="submit")="Edit"  
    if taskList 
      h3="Doing"
      table(class="table table-bordered table-striped" style="border: 1px solid black;")
        thead 
          tr(style="background-color: #f8e5e7;") 
            th ID
            th Name
            th Description
            th Assigned Plan
            th Assigned App
            th State 
            th Creator 
            th Owner 
            th Create Date
            th Action  
          for task in taskList
            if task.state === 'doing'
              tbody
                tr
                  td #{task.tid}
                  td #{task.name}
                  td #{task.description}
                  if task.tplan 
                    td #{task.tplan}
                  else 
                    td NIL
                  td #{task.tappname}
                  td #{task.state}
                  td #{task.creator}
                  td #{task.owner}
                  td #{task.createDate}
                  td 
                    a(href="/editTask/"+task.tid type="submit")="Edit"  
    h3="Done"
    table(class="table table-bordered table-striped" style="border: 1px solid black;")
      thead 
        tr(style="background-color: #f8e5e7;") 
          th ID
          th Name
          th Description
          th Assigned Plan
          th Assigned App
          th State 
          th Creator 
          th Owner 
          th Create Date
          th Action  
      for task in taskList
        if task.state === 'done'
          tbody
            tr
              td #{task.tid}
              td #{task.name}
              td #{task.description}
              if task.tplan 
                td #{task.tplan}
              else 
                td NIL
              td #{task.tappname}
              td #{task.state}
              td #{task.creator}
              td #{task.owner}
              td #{task.createDate}
              td 
                a(href="/editTask/"+task.tid type="submit")="Edit"  
    h3="Close"
    table(class="table table-bordered table-striped" style="border: 1px solid black;")
      thead 
        tr(style="background-color: #f8e5e7;") 
          th ID
          th Name
          th Description
          th Assigned Plan
          th Assigned App
          th State 
          th Creator 
          th Owner 
          th Create Date
          th Action  
      for task in taskList
        if task.state === 'close'
          tbody
            tr
              td #{task.tid}
              td #{task.name}
              td #{task.description}
              if task.tplan 
                td #{task.tplan}
              else 
                td NIL
              td #{task.tappname}
              td #{task.state}
              td #{task.creator}
              td #{task.owner}
              td #{task.createDate}
              td 
                a(href="/editTask/"+task.tid type="submit")="Edit"  
        //-if task.state === 'todolist'
          h3="To-Do-List"
          tbody
            tr
              td #{task.tid}
              td #{task.name}
              td #{task.description}
              if task.tplan 
                td #{task.tplan}
              else 
                td NIL
              td #{task.tappname}
              td #{task.state}
              td #{task.creator}
              td #{task.owner}
              td #{task.createDate}
              td 
                a(href="/editTask/"+task.tid type="submit")="Edit"
        //-if task.state === 'doing'
          h3="Doing"
          tbody
            tr
              td #{task.tid}
              td #{task.name}
              td #{task.description}
              if task.tplan 
                td #{task.tplan}
              else 
                td NIL
              td #{task.tappname}
              td #{task.state}
              td #{task.creator}
              td #{task.owner}
              td #{task.createDate}
              td 
                a(href="/editTask/"+task.tid type="submit")="Edit"      
        //-if task.state === 'done'
          h3="Done"
          tbody
            tr
              td #{task.tid}
              td #{task.name}
              td #{task.description}
              if task.tplan 
                td #{task.tplan}
              else 
                td NIL
              td #{task.tappname}
              td #{task.state}
              td #{task.creator}
              td #{task.owner}
              td #{task.createDate}
              td 
                a(href="/editTask/"+task.tid type="submit")="Edit"  
        //-if task.state === 'close'
          h3="Close"
          tbody
            tr
              td #{task.tid}
              td #{task.name}
              td #{task.description}
              if task.tplan 
                td #{task.tplan}
              else 
                td NIL
              td #{task.tappname}
              td #{task.state}
              td #{task.creator}
              td #{task.owner}
              td #{task.createDate}
              td 
                a(href="/editTask/"+task.tid type="submit")="Edit"    
      //-table(class="table table-bordered table-striped" style="border: 1px solid black;")
        thead 
          tr(style="background-color: #f8e5e7;") 
            th ID
            th Name
            th Description
            th Assigned Plan
            th Assigned App
            th State 
            th Creator 
            th Owner 
            th Create Date
            th Action
        tbody
          for task in taskList
            tr
              td #{task.tid}
              td #{task.name}
              td #{task.description}
              if task.tplan 
                td #{task.tplan}
              else 
                td NIL
              td #{task.tappname}
              td #{task.state}
              td #{task.creator}
              td #{task.owner}
              td #{task.createDate}
              td 
                a(href="/editTask/"+task.tid type="submit")="Edit"
      //-<div class="card-group" style="width: 50%;">
        for task in taskList
          <div class="card">
            <div class="card-body">
              <h5 class="card-title" style="font-weight: bold;">#{task.tid}</h5>
              <p class="card-text" style="margin: 0; font-size: medium;">Name: #{task.name}</p>
              <p class="card-text" style="margin: 0; font-size: medium;">Description: #{task.description}</p>
              <p class="card-text" style="margin: 0; font-size: medium;">State: #{task.state}</p>
              <hr />
              <p class="card-text" style="margin: 0; font-size: medium;">Creator: #{task.creator}</p>
              <p class="card-text" style="margin: 0; font-size: medium;">Owner: #{task.owner}</p>
              <p class="card-text" style="margin: 0; font-size: medium;">Create Date: #{task.createDate}</p>
              a(href="/editTask/"+task.tid type="button" class="btn btn mb-3" style="text-decoration: none; font-weight: bold; color: black; background-color: #f8e5e7;")="Edit"
            </div>
          </div>
        </div>
      //-</div>