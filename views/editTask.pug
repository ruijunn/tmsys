html
head
    title="Task Management System"
    meta(charset='utf-8')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet")
    link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css")
    link(type="text/css" href="/style.css" rel="stylesheet")
body
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js")
    script(src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" )
    div(class="container")
        if isLoggedIn
          nav(class="navbar navbar-expand-lg navbar-light")
            span(class="navbar-brand mb-0 h1")="Task Management System"
            div(class="container-fluid")
              div(class="collapse navbar-collapse" id="collapsibleNavbar")
                ul(class="navbar-nav" )
                  li(class="nav-item dropdown")
                    a(class="nav-link dropdown toggle" href="/home" role="button" data-bs-toggle="dropdown") User Management 
                    span(class="caret")
                    div(class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink")
                      a(class="dropdown-item" href="/createUser")="Create User"
                      a(class="dropdown-item" href="/changePassword")="Change Password"
                      a(class="dropdown-item" href="/updateEmail")="Update Email"
                      a(class="dropdown-item" href="/details")="User List"
                      a(class="dropdown-item" href="/createGroup")="Create Group"
                      a(class="dropdown-item" href="/listUsers")="Assign Group"
                  li(class="nav-item dropdown")
                    a(class="nav-link dropdown toggle" href="/home" role="button" data-bs-toggle="dropdown") Task 
                    span(class="caret")
                    div(class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink")
                      a(class="dropdown-item" href="/createTask")="Create Task"
                      a(class="dropdown-item" href="/taskList")="Task List"
                  li(class="nav-item dropdown")
                    a(class="nav-link dropdown toggle" href="/home" role="button" data-bs-toggle="dropdown") Application 
                    span(class="caret")
                    div(class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink")
                      a(class="dropdown-item" href="/createApplication")="Create Application"
                      a(class="dropdown-item" href="/applicationList")="Application List"
                  li(class="nav-item dropdown")
                    a(class="nav-link dropdown toggle" href="/home" role="button" data-bs-toggle="dropdown") Plan 
                    span(class="caret")
                    div(class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink")
                      a(class="dropdown-item" href="/createPlan")="Create Plan"
                      a(class="dropdown-item" href="/planList")="Plan List"
                  li(class="nav-item")
                    a(class="nav-link" href="/logout")="Logout"
        h2(style="text-align: left")="Edit Task"
        if error
            p(class="alert alert-danger")=error
        if success
            p(class="alert alert-success")=success
        div
          form(class="row g-3" method="post")
            div(class="form-group col-md-6")
              label="Task ID:"
              input(type="text" class="form-control" name="tid" value=`${task}` readonly)
              input(type="hidden" name="tid" value=`${task}`)
            each task in taskList
              div(class="form-group col-md-6")
                label="Task Name:"
                input(type="text" class="form-control" name="tname" value=`${task.name}` readonly)
              div(class="form-group")
                label="Task Description:"
                textarea(class="form-control" name="tdescription" placeholder=`${task.description}` value=`${task.description}`)
              div(class="form-group")
                label="Task Current Notes:"
                textarea(class="form-control" name="tnotes" placeholder=`${task.notes}` value=`${task.notes}` readonly)
              div(class="form-group")
                label="Add Notes:"
                textarea(class="form-control" name="notes")
              div(class="form-group col-md-6")
                label="Task Plan:"
                input(type="text" class="form-control" name="tplan" value=`${task.tplan}` readonly)
              div(class="form-group col-md-6")
                label="Task App Acronym:"
                input(type="text" class="form-control" name="tappname" value=`${task.tappname}` readonly)
              div(class="form-group")
                label="Current State:"
                input(type="text" class="form-control" name="state" value=`${task.state}` readonly)
              div(class="form-group") 
                each input in inputs 
                  label #{input.label}
                  select(class=input.class name=input.name)
                    option(selected disabled hidden)="-- Select state --"
                    each option in input.options 
                      if input.target
                        option=option[input.target]
                      else 
                        option=option
              div(class="form-group")
                label="Task Owner:"
                input(type="text" class="form-control" name="towner" value=`${task.owner}` readonly)
            div(class="form-group")
              button(type="submit" class="btn btn mb-3" 
              style="background-color: #f8e5e7; color: black; font-weight: bold; width: 10%; padding: 14px 20px; margin: auto; cursor: pointer;")="Edit"
              button(type="button" class="btn btn mb-3" 
              style="background-color: #98fb98;  color: black; font-weight: bold; width: 10%; padding: 14px 20px; margin: auto; cursor: pointer;" 
              onclick=`window.location='/taskList'`)="Back"